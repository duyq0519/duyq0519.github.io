---
layout: post
title: 'vim'
date: 2018-11-29
categories: vim
cover: https://image.mmschool.club/github/wolf.jpg
tags: vim
---


#vim 执行shell命令

参考：https://www.cnblogs.com/wuchanming/p/4507428.html

1. :!command
不退出vim，并执行shell命令command，将命令输出显示在vim的命令区域，不会改变当前编辑的文件的内容

例如 :!ls -l

特别的可以运行:!bash来启动一个bash shell并执行命令，不需要退出vim

2. :r !command


将shell命令command的结果插入到当前行的下一行


例如


:r !date，读取系统时间并插入到当前行的下一行。


3. :起始行号,结束行号 !command


将起始行号和结束行号指定的范围中的内容输入到shell命令command处理，并将处理结果替换起始行号和结束行号指定的范围中的内容


例如


:62,72 !sort，将62行到72行的内容进行排序


可以只指定起始行，例如:62 !tr [a-z] [A-Z]，将62行的小写字母转为大写字母


当前光标所在行，除可以指定行号外，也可以用.表示，例如:. !tr [a-z] [A-Z]，将当前行的小写转为大写


4. :起始行号,结束行号 w !command


将起始行号和结束行号所指定的范围的内容作为命令command的输入。不会改变当前编辑的文件的内容


例如


:62,72 w !sort，将62行到72行的内容进行排序，但排序的结果并不会直接输出到当前编辑的文件中，而是显示在vim敲命令的区域


特殊的可以下面这么用


:62 w !bash，将会把第62行的内容作为bash命令来执行并显示结果，而且不会改变当前编辑的文件的内容


同样的:. w !bash，将当前行的内容作为bash命令来执行


例如52行内容为ls -l


那么输入:52 w !bash就跟执行!ls -l是一样的效果，如果你用的shell是bash shell



如果输入的是:52 !bash，那么会把第52行的内容也就是ls -l作为命令执行，同时命令的输出结果会替换第52行的内容，注意其中的区别。



#vim与shell
参考：https://www.cnblogs.com/jiqing9006/p/10045464.html

vim与shell切换
:shell 可以在不关闭vi的情况下切换到shell命令行。
:exit 从shell回到vim。

文件浏览
:Ex 开启目录浏览器，可以浏览当前目录下的所有文件，并可以选择。
:Sex 水平分割当前窗口，并在一个窗口中开启目录浏览器。

vim 打开多文件
vim a b c
:n 跳至下一个文件，也可以直接指定要跳的文件，如:n c，可以直接跳到c文件。
:e# 回到刚才编辑的文件。

vim如何移动当前行向上或向下？
通过m命令。讲光标放在你要移动的行，输入:m +1向下移动一行，输入:m -2向上移动一行。


#基本操作
normal模式

单词结尾 e
单词开始 b
删除字符 x
h  左
j  下
k  上
l  右
删除一行  dd
删除n行  ndd
复制一行  yy
复制多行  nyy
粘贴     p
跳到文件的开头  gg
跳到文件末尾   GG
跳到指定的行   :n


