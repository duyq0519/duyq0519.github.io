---
layout: post
title: '创建型模式'
date: 2018-10-23
categories: 数据库
cover: https://image.mmschool.club/github/sun.jpg
tags: 设计模式
---

设计模式一共分为创建型模式，结构性模式，行为型模式三种，其中创建模式有
单例模式，简单工厂模式，工厂模式，抽象工厂模式，建造者模式，原型模式

## 单例模式
单例模式就是该对象只有一个实例，只会保存一份。比如一个web服务中，数据库链接池管理的对象应该只能有一个。
### 实现
```
var l *leader

var once sync.Once

type leader struct {
	Name string
}

func (l *leader) Look() {
	fmt.Printf("hello %s", l.Name)
}

func GetLeader() *leader {
	once.Do(func() {
		l = &leader{Name: "duyq"}
	})
	return l
}

```
## 简单工厂模式
简单工厂模式都不算是工厂模式中的一种，但是是比工厂模式更加简单的一种实现。如果我们有A和B两个类，这两个类都是实现了相同的接口base。
对于需要使用这两个类的其他包，每种对象的创建都调用一种创建方法，比较的麻烦，毕竟都是实现了同一个接口。简单工厂使用了命令的模式，
根据不同的命令返回不同的对象。
### 实现
```
type Food interface {
	Desc(string) string
}

type Vege struct {
}

func (v *Vege) Desc(name string) string {
	return fmt.Sprintf("vege %s", name)
}

type Meat struct {
}

func (v *Meat) Desc(name string) string {
	return fmt.Sprintf("meat %s", name)
}

func NewFood(t string) Food {
	switch t {
	case "vege":
		return &Vege{}
	case "meat":
		return &Meat{}
	}
	return nil
}
```
## 工厂模式
在简单工厂中，工厂将所有的创建逻辑都放在了一个函数中，比较的臃肿，
## 抽象工厂模式
## 建造者模式
## 原型模式






